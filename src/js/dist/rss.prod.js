"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRssLinksPreview=exports.editRssLink=exports.deleteRssLink=exports.postRssLink=exports.buildIDs=exports.getRssLinks=exports.rssInput=exports.rssList=void 0;var contentType="application/json; charset=utf-8",rssList=$("#rss-list");exports.rssList=rssList;var rssInput=$("#rss-input");exports.rssInput=rssInput;var getRssLinks=function(){var t,r,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"get"},e.next=4,regeneratorRuntime.awrap(fetch("/rss",t));case 4:return r=e.sent,e.next=7,regeneratorRuntime.awrap(r.json());case 7:return s=e.sent,e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),console.error("Unexpected error: ".concat(e.t0.message,". Please try again"));case 14:case"end":return e.stop()}},null,null,[[0,11]])};exports.getRssLinks=getRssLinks;var buildIDs=function(e){return{editId:"edit-".concat(e._id),deleteId:"delete-".concat(e._id),rssListItemId:"list-item-".concat(e._id),rssLinkId:"rss-".concat(e._id)}};exports.buildIDs=buildIDs;var postRssLink=function(){var t,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("/rss",{method:"post",body:JSON.stringify({rss:rssInput.val()}),headers:{"Content-Type":contentType}}));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("Unexpected error: ".concat(e.t0.message,". Please try again"));case 13:case"end":return e.stop()}},null,null,[[0,10]])};exports.postRssLink=postRssLink;var deleteRssLink=function(r,s,e){$("#".concat(e)).click(function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("/rss/".concat(r._id),{method:"delete"}));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:e.sent&&$("#".concat(s)).remove(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unexpected error: ".concat(e.t0.message,". Please try again"));case 13:case"end":return e.stop()}},null,null,[[0,10]])})};exports.deleteRssLink=deleteRssLink;var editRssLink=function(s,n,e){$("#".concat(e)).click(function(){var t,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("/rss/".concat(s._id),{method:"put",headers:{"Content-Type":contentType},body:JSON.stringify({rss:rssInput.val()})}));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:(r=e.sent)&&$("#".concat(n)).html(r.rss),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unexpected error: ".concat(e.t0.message,". Please try again"));case 13:case"end":return e.stop()}},null,null,[[0,10]])})};exports.editRssLink=editRssLink;var getRssLinksPreview=function(){var t,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("/rss/parsed/email",{method:"get"}));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t);case 6:r=e.sent,console.log(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),console.error("RssPreview: ",e.t0.message);case 14:case"end":return e.stop()}},null,null,[[0,10]])};exports.getRssLinksPreview=getRssLinksPreview;