"use strict";var mongoose=require("mongoose"),DB_NAME="user",DB_URL=process.env.DB_KEY||"mongodb://localhost:27017/".concat(DB_NAME),DB_OPTIONS={useNewUrlParser:!0,useUnifiedTopology:!0},state={db:null};mongoose.set("useFindAndModify",!1);var connect=function(){state.connected||mongoose.connect(DB_URL,DB_OPTIONS).then(function(e){state.db=e,console.log("Successfully connected to: ".concat(DB_URL))}).catch(function(e){return console.log("DB connection failed: ",e.message)})},db=function(){return state.db},primaryKey=function(e){return mongoose.Types.ObjectId(e)};module.exports={connect:connect,db:db,primaryKey:primaryKey};